Документация API Pixverse

Описание
Данный API предоставляет методы для генерации видео из текста или изображения с помощью Pixverse, а также для получения статуса готовности видео.
Самая основная информация о каждом запросе сохраняется в БД, в нашем случае PostgreSQL.


Методы



POST /text2video
Описание: Генерация видео по текстовому описанию.
Параметры:

prompt (string, обязательный) — текстовый запрос для генерации видео
app_bundle_id (string, обязательный) — параметр для внутреннего учета
apphud_user_id (string, обязательный) — параметр для внутреннего учета
video_id (integer) — идентификатор созданного видео
Ответ (JSON):
Пример ответа: {"video_id": 123}
Ограничения:
Длина prompt — не более 2048 знаков
Возможные ошибки:
400 — неверные параметры запроса
500 — внутренняя ошибка сервиса



POST /image2video
Описание: Генерация видео по изображению и текстовому описанию.
Параметры:

file (file, обязательный) — изображение в формате "PNG", "WEBP", "JPEG", "JPG"
prompt (string, обязательный) — текстовый запрос для генерации видео
app_bundle_id (string, обязательный) — параметр для внутреннего учета
apphud_user_id (string, обязательный) — параметр для внутреннего учета
Ответ (JSON):
video_id (integer) — идентификатор созданного видео
Пример ответа: {"video_id": 123}
Ограничения:
Максимальный размер файла — меньше 20 МБ, не более 4000*4000 пикселей 
Возможные ошибки:
400 — неверные параметры или формат файла
413 — файл слишком большой
500 — внутренняя ошибка сервиса



GET /get_status
Описание: Получение статуса генерации видео.
Параметры (query parameters):

video_id (integer, обязательный) — идентификатор видео
app_bundle_id (string, обязательный) — параметр для внутреннего учета
apphud_user_id (string, обязательный) — параметр для внутреннего учета
Ответ (JSON):
В случае успешного завершения генерации:
{"url": "..." }
Иначе:
{ "status": "..." }
Возможные статусы:
Generation successful — генерация завершена успешно
Generating — в процессе генерации
Deleted — видео удалено
Contents moderation failed — проверка содержимого не пройдена
Generation failed — ошибка при генерации
Возможные ошибки:
400 — неверные параметры запроса
404 — видео не найдено
500 — внутренняя ошибка сервиса
Общие ограничения и информация:



В случае превышения лимитов возвращается ошибка 429 Too Many Requests.
PASSWORD, EMAIL от Pixverse и DATABASE_URL хранятся в .env файле

Следует также учитывать, что вкладка с Pixverse в браузере, который запускается посредством кода, должна быть на английском языке.
Иначе нужно в параметрах запуска браузера параметр Headless поставить False и вручную нажимать кнопку входа после ввода логина и пароля.
Основные ошибки:

400 Bad Request — неверные или отсутствующие параметры запроса
404 Not Found — запрошенный ресурс не найден
413 Payload Too Large — файл превышает максимальный размер
429 Too Many Requests — превышена частота запросов
500 Internal Server Error — внутренняя ошибка сервиса
